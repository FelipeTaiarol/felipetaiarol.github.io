
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/style.css" rel="stylesheet">
    <link href="/docs/style.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://open.ruumapp.com/assets/img/ruum-32.png">
    <title>Ruum REST API</title>
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
<h1 >Ruum REST API</h1>

<h2>Overview</h2>

    <p>The Ruum REST API makes it possible to integrate external systems with <a href="https://open.ruumapp.com/">Ruum</a>. It provides capabilities such as:</p>

    <ul>
        <li>Create a new ruum with Sections which can contain Text, Tasks and Files.</li>
        <li>Update the Tasks inside an existing ruum.</li>
        <li>Query ruums.</li>
    </ul>

    <h3>Base URL</h3>

    <p>All URLs referenced in this documentation have the following base unless otherwise specified:</p>

    <p><a href="https://api.ruumapp.com/v1/">https://api.ruumapp.com/v1/</a></p>

    <h3>Naming convention</h3>

    <p>‘Ruum’ is used to refer to the application. <br />
    ‘ruum’ is an individual project within Ruum.</p>

<h2 >Creating an Account</h2>

    <p>In order to consume our REST API you will need an Integration Account.</p>

    <p>In order to get an Integration Account send an email to: <a href="mailto:team@ruumapp.com?Subject=Ruum%20Integration%20Account" target="_top">team@ruumapp.com</a>
    </p>

    <h2>Authentication</h2>

    <p>HTTP requests to the API are protected with HTTP Basic authentication.</p>
    
    <p>When we send you your Integration Account details you will receive an AccountId and a SecretKey as well as an
        authentication header that should be sent in all requests. </p>
    
    <h2>API Endpoints</h2>

    <h3>Create ruum</h3>

    <p>Url: /v1/ruums<br />
    Method: POST<br />
    body: Ruum (see typescript definition of JSON payload <a href="#object_model">here</a>)</p>
    Example</p>  
    <div class="highlighter-rouge">
        <div class="highlight">
            <pre class="highlight">
            <code>
{
  "name":"Complete Ruum From API",
  "externalSystemLink":{
    "objectType":"deal",
    "objectId":"deal_123"
  },
  "participants": ["participant1@compay.com", "participant2@compay.com"],
  "sections":[{
    "title":"You can send Text, Tasks and Files",
    "content":[{
      "type": "paragraph",
      "text": "This ruum was created using https://api.ruumapp.com/v1/ruums"
    },{
      "type":"task",
      "description":"Schedule kickokff meeting",
      "startDate": {
        "day": "01",
        "month": "1",
        "year": "2018"
      },
      "dueDate": {
        "day": "03",
        "month": "1",
        "year": "2018"
      },
      "status": "OPEN",
      "assignees": ["participant1@compay.com"],
      "externalSystemLink":{
        "objectType":"activity",
        "objectId":"activity_123"
      }
    },{
    	"type": "file",
    	"fileType": "image/png",
    	"fileName": "ruum_logo.png",
    	"content": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAA"
    }]
  }]
}
            </code>
            </pre>
        </div>
    </div>
    Response:</p>
    <div class="highlighter-rouge">
        <div class="highlight">
            <pre class="highlight">
            <code>
{ ruumId: ruum_123 }
            </code>
            </pre>
        </div>
    </div>

    <h3 id="update">Update a Task inside a ruum by external link</h3>
    <p>Url: /v1/ruums/:ruumId/externallink/:objectId<br />
    Method: PUT<br />
    body: UpdateTaskPayload <br />
    <p>Example:  If you created a Task in a ruum with id ruum_123 and <a href="#external_link">externalSystemLink</a>:</p>
    <p><code>{ objectType: 'any', objectId: 'obj1' }</code></p>
    <div class="highlighter-rouge">
        <div class="highlight">
            <pre class="highlight">
            <code>
PUT /v1/ruums/ruum_123/tasks/externallink/obj1
{ 
    description: 'new description',
    startDate: null,
    dueDate: {
        "day": "01",
        "month": "1",
        "year": "2018"
    },
    status: 'DONE',
    assignees: ['newassignee@ruumapp.com']
}
            </code>
            </pre>
        </div>
    </div>
    
    <h3>Update a Task inside a ruum by task id (soon)</h3>
    <p>Update a task using the id the task has inside Ruum instead of the externalSystemLink.</p>

    <h3>Get all ruums create by the Integration Account</h3>
    <p>Url: /v1/ruums<br />
    Method: GET<br />
    Response: Ruum[] (see object model definition below)</p>

    <h3>Get ruum by id</h3>
    <p>Url: /v1/ruums/:ruumId<br />
    Method: GET<br />
    Response: Ruum (see object model definition below)</p>


<h2 id="external_link">External System Links</h2>

    <p>External System Links are useful when you want to integrate a system with Ruum rather than simply consuming the API to create ruums.</p>

    <p>For example: If you are integrating a CRM system with Ruum you might want to make it in such a way that every Deal in CRM is linked to a ruum in Ruum 
        and every Activity inside that Deal is linked to a Task inside the ruum.</p>
    <img src="/docs/img/external_system_links.png"></img>
    
<h2 id="webhooks">Web Hooks (soon)</h2>

    <p>In the future we will also make it possible to configure a HTTP endpoint that will receive a JSON payload every time a 
        ruum created by a given Integration Account changes.</p>
        
    <p>With that and <a href="/#external_link">External System Links</a>, when your system receives the JSON payload it can know, for example,
    that ruum 'ruum_123' is linked to Deal 'deal_123' and the Task 'task_123' is linked to Activity 'activity_123'. 
    
    <p>So when Ruum sends a JSON payload to the HTTP endpoint you configured your system can look to the externalSystemLinks and know which objects to update.</p>

<h2 id="object_model">Object Model</h2>

    <p>Typescript definition of the data model the API uses.</p>

    <p>Ruum</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
interface IntegrationRuum{
    ruumId: string;
    status?: RuumStatus;
    externalSystemLink: ExternalSystemLink;
    name: string;
    /** A list of emails of participants that will be invited to this ruum. */
    participants: string[];
    sections: CanvasSection[];
}

export interface ExternalSystemLink{
    objectId: string;
    objectType: string;
}

export interface CanvasSection{
    id: string;
    title: string;
    /** Should be Task, Paragraph or Attachment */
    content: any[];
}

export interface Paragraph{
    type: 'paragraph';
    text: string;
}

export interface Task{
    id: string;
    type: 'task';
    description: string;
    startDate?: Day,
    dueDate?: Day,
    /** A list of emails. The emails should be in the participants as well. */
    assignees: string[],
    status: TaskStatus;
    externalSystemLink?: ExternalSystemLink;
}

export type TaskStatus = 'OPEN' | 'WORKING' | 'BLOCKED' | 'DONE';

export interface File{
    id: string;
    type: 'file';
    fileType: string;
    fileName: string;
    /** base64 enconded content */
    content: string;
}
    </code></pre></div></div>
    </div>
  </body>
</html>
